(()=>{"use strict";var e,t={775:()=>{const e=window.wp.blocks,t=window.wp.blockEditor,n=window.wp.element,s=window.wp.data,o=window.ReactJSXRuntime,i=JSON.parse('{"UU":"focotik/testimonials"}');(0,e.registerBlockType)(i.UU,{edit:function({attributes:e,setAttributes:i,clientId:l}){const{currentTab:c}=e,[r,a]=(0,n.useState)(c||null),d=(0,n.useRef)(null),[u,f]=(0,n.useState)(0),k=(0,t.useBlockProps)(),m=(0,s.useSelect)((e=>e("core/block-editor").getBlocks(l)||[]),[]),b=(0,s.useSelect)((e=>e("core/block-editor").getSelectedBlockClientId()),[]),h=e=>{(e=>{if(d.current){d.current.querySelectorAll(".focotik-testimonial-item").forEach((e=>{e.style.display="none"}));const t=d.current.querySelector(`#${e}`);t?t.style.display="flex":console.warn(`Element with ID "${e}" not found.`)}})(`block-${e.clientId}`),a(e.clientId),i({currentTab:e.clientId})};(0,n.useEffect)((()=>{if(b&&b!==r){const e=m.find((e=>e.clientId===b));e&&h(e)}}),[b]),(0,n.useEffect)((()=>{if(m.length>u){const e=m[m.length-1];h(e)}f(m.length)}),[m,u]),(0,n.useEffect)((()=>{if(m.length<u){const e=m.findIndex((e=>e.clientId===r)),t=m[e]||m[e-1]||m[0];t?h(t):(a(null),i({currentTab:null}))}f(m.length)}),[m,r]),(0,n.useEffect)((()=>{m.length>0&&!r&&h(m[0])}),[m,r]);const p=e=>{const s=(0,o.jsx)(t.InnerBlocks.ButtonBlockAppender,{...e});return(0,n.cloneElement)(s,{},(0,o.jsxs)(o.Fragment,{children:[s.props.children,(0,o.jsx)("span",{style:{marginLeft:"5px",color:"#666"},children:"Add a new button"})]}))};return(0,o.jsxs)("div",{...k,className:"focotik-testimonials",children:[(0,o.jsxs)("div",{className:"focotik-testimonials-tabs",children:[(0,o.jsx)("div",{className:"focotik-testimonials-tab-nav",children:m.map(((e,t)=>{const{imageUrl:n}=e.attributes;return(0,o.jsx)("button",{onClick:()=>h(e),className:r===e.clientId?"active":"","data-target":`block-${e.clientId}`,children:n?(0,o.jsx)("img",{src:n,alt:`Tab ${t+1}`,style:{width:"100%",objectFit:"cover"}}):`Tab ${t+1}`},e.clientId)}))}),(0,o.jsx)("div",{className:"focotik-testimonials-tab-content",ref:d,children:(0,o.jsx)(t.InnerBlocks,{allowedBlocks:["focotik/testimonial-item"],renderAppender:!1})})]}),(0,o.jsx)("div",{className:"focotik-testimonials-add-new",children:(0,o.jsx)(p,{rootClientId:l})})]})},save:function({attributes:e}){const n=t.useBlockProps.save();return(0,o.jsx)("div",{...n,className:"focotik-testimonials",children:(0,o.jsxs)("div",{className:"focotik-testimonials-tabs",children:[(0,o.jsx)("div",{className:"focotik-testimonials-tab-nav"}),(0,o.jsx)("div",{className:"focotik-testimonials-tab-content",children:(0,o.jsx)(t.InnerBlocks.Content,{})})]})})}})}},n={};function s(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,s),i.exports}s.m=t,e=[],s.O=(t,n,o,i)=>{if(!n){var l=1/0;for(d=0;d<e.length;d++){for(var[n,o,i]=e[d],c=!0,r=0;r<n.length;r++)(!1&i||l>=i)&&Object.keys(s.O).every((e=>s.O[e](n[r])))?n.splice(r--,1):(c=!1,i<l&&(l=i));if(c){e.splice(d--,1);var a=o();void 0!==a&&(t=a)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,o,i]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={785:0,757:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[l,c,r]=n,a=0;if(l.some((t=>0!==e[t]))){for(o in c)s.o(c,o)&&(s.m[o]=c[o]);if(r)var d=r(s)}for(t&&t(n);a<l.length;a++)i=l[a],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},n=globalThis.webpackChunkfocotik=globalThis.webpackChunkfocotik||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=s.O(void 0,[757],(()=>s(775)));o=s.O(o)})();